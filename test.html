<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
        <!-- Bootstrap -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
        <link href='https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css' rel='stylesheet'>
    
        <title> Calendar | calendaREADY </title>
        <link rel="icon" href="img/logo/logo-greenbg.png">
        <link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css'>
        
        <!-- External CSS -->
        <link rel="stylesheet" href="css/test.css">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css">
        <!--navbar css-->
        <link rel="stylesheet" href="css/navbar.css">
    
        <!-- Vue JavaScript -->
        <script src="https://unpkg.com/vue@next"></script>
        <script type="module" src="js/test.js"></script>
    
        <script type="module" src="js/login-common.js"></script>

        <script src="https://unpkg.com/vue@3.2.23/dist/vue.global.js"></script>
    
    </head>
<body>
    
    <div id="app">
      {{get_yummy_pie}}

        <div class="card">
          <pie-chart
                     :numbers="numbers"
                     :colors="colors"
                     :event_legend="event_legend"
          >
          </pie-chart>
        </div>
      </div>
      
      <script type="text/x-template" id="pie-chart">
        <div class="total">
          <span>Total events:</span>
          {{ total }}
        </div>
        
        <div class="pie-chart">
          <svg xmlns="http://www.w3.org/2000/svg" :viewBox="`0 0 ${center * 2} ${center * 2}`" :style="{ height: `${center * 2}px`, width: `${center * 2}px` }">
            <circle
                    v-show="!total"
                    fill="none"
                    :cx="center"
                    :cy="center"
                    :r="radius"
                    stroke="#e5e9f2"
                    :stroke-width="strokeWidth"
                    />
            <circle
                    v-for="(p, index) in percentage"
                    :ref="`circle${index}`"
                    :key="index"
                    fill="none"
                    :cx="center"
                    :cy="center"
                    :r="radius"
                    :stroke="colors[index]"
                    :stroke-width="strokeWidth"
                    :stroke-dasharray="`${p * circumference}px ${circumference}px`"
                    :stroke-dashoffset="`${-(percentage.slice(0, index).reduce((prev, cur) => prev + cur, 0)) * circumference}px`"
                    @mouseenter="handleMouseenter(index)"
                    @mouseleave="handleMouseleave(index)"
                    />
            </svg>
        
          <div class="temp-item" :class="{ 'has-value': !!temp }">
            {{ temp }}
          </div>
        </div>

        <div class="items-container">
          <div v-for="(n, index) in event_legend" :key="index" class="items-wrap">
              
            <div class="items" :style="{ backgroundColor: colors[index] }"></div>
            <span class="event_type">{{ n }}</span>
            <br>
          </div>
        </div>
      </script>

      
    
</body>
</html>